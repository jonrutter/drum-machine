{"version":3,"sources":["components/DrumMachine/DrumMachine.module.css","components/Display/Display.module.css","components/Switch/Switch.module.css","components/Controls/Controls.module.css","components/DrumPad/DrumPad.module.css","reducer.js","context.js","components/Display/index.js","components/Switch/index.js","components/Controls/index.js","components/DrumPad/index.js","data.js","components/DrumMachine/index.js","App.js","index.js"],"names":["module","exports","reducer","state","action","type","isOn","newBank","bank","playing","payload","console","warn","GlobalContext","React","createContext","defaultState","volume","useGlobalContext","useContext","GlobalProvider","children","useReducer","dispatch","Provider","value","playSound","description","Display","className","s","toUpperCase","id","Switch","label","handler","checked","onChange","Controls","createId","toLowerCase","split","join","DrumPad","keyCode","keyName","url","audioRef","useRef","useEffect","document","addEventListener","handleKeyDown","removeEventListener","handle","current","currentTime","play","e","onClick","src","ref","bankHeater","bankPiano","DrumMachine","map","pad","index","App","href","target","rel","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b81266fe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DrumMachine_wrapper__25hsC\",\"content\":\"DrumMachine_content__1-HKE\",\"header\":\"DrumMachine_header__2qUWA\",\"title\":\"DrumMachine_title__2s1VO\",\"body\":\"DrumMachine_body__9meJ4\",\"padGrid\":\"DrumMachine_padGrid__zJpU2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Display_wrapper__Ygxxj\",\"on\":\"Display_on__2YboG\",\"content\":\"Display_content__2_K-A\",\"bank\":\"Display_bank__MWi1b\",\"playing\":\"Display_playing__3ovEt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Switch_label__2H2pE\",\"switcher\":\"Switch_switcher__97iUy\",\"slider\":\"Switch_slider__28Wpb\",\"hiddenCheckbox\":\"Switch_hiddenCheckbox__2IlkJ\",\"srOnly\":\"Switch_srOnly__3aOjD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Controls_row__UM-Dw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"DrumPad_btn__12pdi\"};","export const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'TOGGLE_POWER':\r\n      return { ...state, isOn: !state.isOn };\r\n    case 'TOGGLE_BANK':\r\n      const newBank = state.bank === 'heater' ? 'piano' : 'heater';\r\n      return { ...state, bank: newBank };\r\n    case 'PLAY_SOUND':\r\n      return { ...state, playing: action.payload };\r\n    default:\r\n      // If unknown reducer action type, throw warning in console, but return the current state\r\n      console.warn(`Warning: unknown reducer action type: ${action.type}`);\r\n      return state;\r\n  }\r\n};\r\n","import React, { useContext, useReducer } from 'react';\r\nimport { reducer } from './reducer';\r\n\r\nconst GlobalContext = React.createContext();\r\n\r\nconst defaultState = {\r\n  isOn: true,\r\n  bank: 'heater',\r\n  volume: 20,\r\n  playing: '',\r\n};\r\n\r\nconst GlobalProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, defaultState);\r\n\r\n  const playSound = (description) => {\r\n    dispatch({ type: 'PLAY_SOUND', payload: description });\r\n  };\r\n\r\n  return (\r\n    <GlobalContext.Provider value={{ ...state, dispatch, playSound }}>\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGlobalContext = () => {\r\n  return useContext(GlobalContext);\r\n};\r\n\r\nexport default GlobalProvider;\r\n","import React from 'react';\r\n\r\n// styling\r\nimport * as s from './Display.module.css';\r\n\r\nimport { useGlobalContext } from '../../context';\r\n\r\nconst Display = () => {\r\n  const { isOn, bank, playing } = useGlobalContext();\r\n  return (\r\n    <div className={isOn ? `${s.wrapper} ${s.on}` : s.wrapper}>\r\n      <div className={s.content}>\r\n        <p className={s.bank}>{bank.toUpperCase()}</p>\r\n        <p id=\"display\" className={s.playing}>\r\n          {playing}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Display;\r\n","import React from 'react';\r\n\r\nimport * as s from './Switch.module.css';\r\n\r\nconst Switch = ({ label = '', handler, value }) => {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <p className={s.label}>{label}</p>\r\n      <label className={s.switcher}>\r\n        <span className={s.srOnly}>{`Toggle switch for ${label}`}</span>\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={value}\r\n          onChange={handler}\r\n          className={s.hiddenCheckbox}\r\n        />\r\n        <span className={s.slider}></span>\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Switch;\r\n","import React from 'react';\r\n\r\nimport * as s from './Controls.module.css';\r\n\r\nimport { useGlobalContext } from '../../context';\r\n\r\nimport Switch from '../Switch';\r\n\r\nconst Controls = () => {\r\n  const { isOn, bank, dispatch } = useGlobalContext();\r\n\r\n  const togglePower = () => {\r\n    dispatch({ type: 'TOGGLE_POWER' });\r\n  };\r\n\r\n  const toggleBank = () => {\r\n    dispatch({ type: 'TOGGLE_BANK' });\r\n  };\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <div className={s.row}>\r\n        <Switch label=\"Power\" handler={togglePower} value={isOn} />\r\n      </div>\r\n      <div className={s.row}>\r\n        <Switch label=\"Bank\" handler={toggleBank} value={bank === 'heater'} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Controls;\r\n","import React, { useRef, useEffect } from 'react';\r\n\r\nimport * as s from './DrumPad.module.css';\r\n\r\nimport { useGlobalContext } from '../../context';\r\n\r\n// helper function\r\nconst createId = (description) => {\r\n  return description.toLowerCase().split(' ').join('-');\r\n};\r\n\r\nconst DrumPad = ({ keyCode, keyName, description, url }) => {\r\n  const audioRef = useRef(null);\r\n  const { isOn, playSound } = useGlobalContext();\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, []);\r\n\r\n  const handle = () => {\r\n    if (!isOn) return;\r\n    if (audioRef.current !== null) {\r\n      playSound(description);\r\n      audioRef.current.currentTime = 0;\r\n      audioRef.current.play();\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.keyCode === keyCode) {\r\n      handle();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`drum-pad ${s.btn}`}\r\n      id={createId(description)}\r\n      onClick={handle}\r\n    >\r\n      {keyName}\r\n      <audio src={url} className=\"clip\" id={keyName} ref={audioRef}></audio>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default DrumPad;\r\n","// all audio source is from freeCodeCamp:\r\n// https://codepen.io/freeCodeCamp/pen/MJyNMd\r\n\r\nexport const bankHeater = [\r\n  {\r\n    keyCode: 81,\r\n    keyName: 'Q',\r\n    description: 'Heater 1',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3',\r\n  },\r\n  {\r\n    keyCode: 87,\r\n    keyName: 'W',\r\n    description: 'Heater 2',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3',\r\n  },\r\n  {\r\n    keyCode: 69,\r\n    keyName: 'E',\r\n    description: 'Heater 3',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3',\r\n  },\r\n  {\r\n    keyCode: 65,\r\n    keyName: 'A',\r\n    description: 'Heater 4',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3',\r\n  },\r\n  {\r\n    keyCode: 83,\r\n    keyName: 'S',\r\n    description: 'Clap',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3',\r\n  },\r\n  {\r\n    keyCode: 68,\r\n    keyName: 'D',\r\n    description: 'Open HH',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3',\r\n  },\r\n  {\r\n    keyCode: 90,\r\n    keyName: 'Z',\r\n    description: 'Kick and Hat',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3',\r\n  },\r\n  {\r\n    keyCode: 88,\r\n    keyName: 'X',\r\n    description: 'Kick',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3',\r\n  },\r\n  {\r\n    keyCode: 67,\r\n    keyName: 'C',\r\n    description: 'Closed HH',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3',\r\n  },\r\n];\r\n\r\nexport const bankPiano = [\r\n  {\r\n    keyCode: 81,\r\n    keyName: 'Q',\r\n    description: 'Chord 1',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3',\r\n  },\r\n  {\r\n    keyCode: 87,\r\n    keyName: 'W',\r\n    description: 'Chord 2',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3',\r\n  },\r\n  {\r\n    keyCode: 69,\r\n    keyName: 'E',\r\n    description: 'Chord 3',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3',\r\n  },\r\n  {\r\n    keyCode: 65,\r\n    keyName: 'A',\r\n    description: 'Shaker',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3',\r\n  },\r\n  {\r\n    keyCode: 83,\r\n    keyName: 'S',\r\n    description: 'Open HH',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Dry_Ohh.mp3',\r\n  },\r\n  {\r\n    keyCode: 68,\r\n    keyName: 'D',\r\n    description: 'Closed HH',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Bld_H1.mp3',\r\n  },\r\n  {\r\n    keyCode: 90,\r\n    keyName: 'Z',\r\n    description: 'Punchy Kick',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/punchy_kick_1.mp3',\r\n  },\r\n  {\r\n    keyCode: 88,\r\n    keyName: 'X',\r\n    description: 'Side Stick',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3',\r\n  },\r\n  {\r\n    keyCode: 67,\r\n    keyName: 'C',\r\n    description: 'Snare',\r\n    url: 'https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3',\r\n  },\r\n];\r\n","import React from 'react';\r\n\r\nimport * as s from './DrumMachine.module.css';\r\n\r\n// components\r\nimport Display from '../Display';\r\nimport Controls from '../Controls';\r\nimport DrumPad from '../DrumPad';\r\n\r\n// data\r\nimport { bankHeater, bankPiano } from '../../data';\r\n\r\n// context\r\nimport { useGlobalContext } from '../../context';\r\n\r\nconst DrumMachine = () => {\r\n  const { bank } = useGlobalContext();\r\n  return (\r\n    <div className={s.wrapper} id=\"drum-machine\">\r\n      <div className={s.content}>\r\n        <header className={s.header}>\r\n          <h1 className={s.title}>Drum Machine</h1>\r\n          <Display />\r\n        </header>\r\n        <div className={s.body}>\r\n          <ul className={s.padGrid}>\r\n            {bank === 'heater'\r\n              ? bankHeater.map((pad, index) => {\r\n                  return (\r\n                    <li key={index}>\r\n                      <DrumPad {...pad} />\r\n                    </li>\r\n                  );\r\n                })\r\n              : bankPiano.map((pad, index) => {\r\n                  return (\r\n                    <li key={index}>\r\n                      <DrumPad {...pad} />\r\n                    </li>\r\n                  );\r\n                })}\r\n          </ul>\r\n          <div className={s.controlsWrap}>\r\n            <Controls />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DrumMachine;\r\n","import React from 'react';\n\n// components\nimport DrumMachine from './components/DrumMachine';\n\nconst App = () => {\n  return (\n    <div className=\"app-wrapper\">\n      <main className=\"app-content\">\n        <DrumMachine />\n        <div className=\"attribution\">\n          Created by{' '}\n          <a\n            href=\"https://github.com/jonrutter\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Jon Rutter\n          </a>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\n\n// fonts\nimport '@fontsource/audiowide';\n\nimport GlobalProvider from './context';\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalProvider>\n      <App />\n    </GlobalProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}